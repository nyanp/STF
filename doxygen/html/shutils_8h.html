<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>STF: HEW/SHPrototype/SHPrototype/shutils.h</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- ‰ΩúÊàêÔºö Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Ê§úÁ¥¢');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">STF</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>„É°„Ç§„É≥„Éö„Éº„Ç∏</span></a></li>
      <li><a href="pages.html"><span>Èñ¢ÈÄ£„Éö„Éº„Ç∏</span></a></li>
      <li><a href="namespaces.html"><span>„Éç„Éº„É†„Çπ„Éö„Éº„Çπ</span></a></li>
      <li><a href="annotated.html"><span>„ÇØ„É©„Çπ</span></a></li>
      <li class="current"><a href="files.html"><span>„Éï„Ç°„Ç§„É´</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Ê§úÁ¥¢" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>„Éï„Ç°„Ç§„É´‰∏ÄË¶ß</span></a></li>
      <li><a href="globals.html"><span>„Éï„Ç°„Ç§„É´„É°„É≥„Éê</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">„Éû„ÇØ„É≠ÂÆöÁæ©</a> &#124;
<a href="#func-members">Èñ¢Êï∞</a> &#124;
<a href="#var-members">Â§âÊï∞</a>  </div>
  <div class="headertitle">
<h1>HEW/SHPrototype/SHPrototype/shutils.h</h1>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="">7040S.h</a>&quot;</code><br/>
<code>#include &lt;stdarg.h&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
shutils.h„ÅÆ„Ç§„É≥„ÇØ„É´„Éº„Éâ‰æùÂ≠òÈñ¢‰øÇÂõ≥</div>
<div class="dyncontent">
<div class="center"><img src="shutils_8h__incl.png" border="0" usemap="#_h_e_w_2_s_h_prototype_2_s_h_prototype_2shutils_8h" alt=""/></div>
<map name="_h_e_w_2_s_h_prototype_2_s_h_prototype_2shutils_8h" id="_h_e_w_2_s_h_prototype_2_s_h_prototype_2shutils_8h">
<area shape="rect" id="node3" href="7040_s_8_h.html" title="7040S.h" alt="" coords="55,83,124,112"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
„Åì„ÅÆ„Ç∞„É©„Éï„ÅØ„ÄÅ„Å©„ÅÆ„Éï„Ç°„Ç§„É´„Åã„ÇâÁõ¥Êé•„ÄÅÈñìÊé•ÁöÑ„Å´„Ç§„É≥„ÇØ„É´„Éº„Éâ„Åï„Çå„Å¶„ÅÑ„Çã„Åã„ÇíÁ§∫„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ</div>
<div class="dyncontent">
<div class="center"><img src="shutils_8h__dep__incl.png" border="0" usemap="#_h_e_w_2_s_h_prototype_2_s_h_prototype_2shutils_8hdep" alt=""/></div>
<map name="_h_e_w_2_s_h_prototype_2_s_h_prototype_2shutils_8hdep" id="_h_e_w_2_s_h_prototype_2_s_h_prototype_2shutils_8hdep">
<area shape="rect" id="node3" href="_s_h_prototype_8cpp.html" title="HEW/SHPrototype/SHPrototype/SHPrototype.cpp" alt="" coords="5,83,317,112"/></map>
</div>
</div>
<p><a href="">„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„ÇíË¶ã„Çã„ÄÇ</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
„Éû„ÇØ„É≠ÂÆöÁæ©</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#a2ff855c3699d60109c8f226966c7d976">MAXDIGIT</a>&#160;&#160;&#160;34</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#ad0a55fbb3a5027cc39d73e7486daee1b">initLed</a>()&#160;&#160;&#160;(PFC.PEIOR.BYTE.H |= 0x0a)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#ae4cdcc16c132182683a92640f95f7b83">initPushSW</a>()&#160;&#160;&#160;(PFC.PEIOR.BYTE.H &amp;= 0x5f)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#a0c7a9fc730aee2153fae58a5deedc72e">init4BitSW</a>()&#160;&#160;&#160;(PFC.PBIOR.BYTE.L &amp;= 0xc3)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#a1424d92c9ede534cc1790736c9ba779c">startCMT0</a>()&#160;&#160;&#160;(CMT.CMSTR.BIT.STR0=1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#a2c459825da29dfd9b999a5c37773b765">stopCMT0</a>()&#160;&#160;&#160;(CMT.CMSTR.BIT.STR0=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#a54a5b1904a765d01e08468d2111642bd">clearCMFlag0</a>()&#160;&#160;&#160;(CMT0.CMCSR.BIT.CMF=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#a1ad229a7a6f4551d42ecfe2f11dcd8ca">startCMT1</a>()&#160;&#160;&#160;(CMT.CMSTR.BIT.STR1=1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#ae82221fab239e889fbb448fee6093c6e">stopCMT1</a>()&#160;&#160;&#160;(CMT.CMSTR.BIT.STR1=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#a249c55beec092240bfdaf8b34098c7e3">clearCMFlag1</a>()&#160;&#160;&#160;(CMT1.CMCSR.BIT.CMF=0)</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Èñ¢Êï∞</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#a9692c4716cfd883176bfbb468c7b931d">setIntMask</a> (int mask)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#a8f594dd3fcbb0cc62b78c6a8b88670b7">getIntMask</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#a833e1173b40d64896a139b28234b835f">initSCI1</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">short int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#a51ed903b71528858161fb6a188748b57">getCharSCI1</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">short int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#aff2b275eb9a2501f01497bbc4073b2d2">chkgetCharSCI1</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#a33987f1ff9f3b1445fdfea9f23f17ec2">putStringSCI1</a> (char *str)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#a89e775a2ed7c17e5ca8dc9b1971e1e21">getStringSCI1</a> (char *buff, int max)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#ada442ef8371ce46338422defdd609447">getIntSCI1</a> (char prompt[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#a9ab50fd6cbfffcdbb4309991e99ab468">putCharSCI1</a> (char c)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#aba197b100ee6ab0446b9db164a2874e7">SCI1_printf</a> (char *format,...)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#a81fd9d782c78f8e1ca926bb5c6a0b363">turnOnLed</a> (short int number)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#af46f760b9216d484463dbc05839dd688">turnOffLed</a> (short int number)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">short int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#a9edbc60a6ac728c8c1aeea595a51cbaa">getPushSW</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">short int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#ac7ea13da223a35394380a17f7b1d5b8b">checkPushSW</a> (short int number)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">short int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#ad92bac4e1fb4fbddea142bcc4c172e72">get4BitSW</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">short int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#a4745d640a1d7175f4f6c0ea63ab6a274">check4BitSW</a> (short int number)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#a26060c6615b48cd952f85e4edbc19ca3">initCMTInt</a> (unsigned long int period, int ch, int intLebel)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Â§âÊï∞</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutils_8h.html#aa2af157bce3908a9bd973eb13872063d">hexstring</a> [] = &quot;0123456789abcdef0123456789ABCDEF&quot;</td></tr>
</table>
<hr/><h2>„Éû„ÇØ„É≠ÂÆöÁæ©</h2>
<a class="anchor" id="a54a5b1904a765d01e08468d2111642bd"></a><!-- doxytag: member="shutils.h::clearCMFlag0" ref="a54a5b1904a765d01e08468d2111642bd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define clearCMFlag0</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(CMT0.CMCSR.BIT.CMF=0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L532">532</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>

</div>
</div>
<a class="anchor" id="a249c55beec092240bfdaf8b34098c7e3"></a><!-- doxytag: member="shutils.h::clearCMFlag1" ref="a249c55beec092240bfdaf8b34098c7e3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define clearCMFlag1</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(CMT1.CMCSR.BIT.CMF=0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L535">535</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>

</div>
</div>
<a class="anchor" id="a0c7a9fc730aee2153fae58a5deedc72e"></a><!-- doxytag: member="shutils.h::init4BitSW" ref="a0c7a9fc730aee2153fae58a5deedc72e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define init4BitSW</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(PFC.PBIOR.BYTE.L &amp;= 0xc3)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L463">463</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>

</div>
</div>
<a class="anchor" id="ad0a55fbb3a5027cc39d73e7486daee1b"></a><!-- doxytag: member="shutils.h::initLed" ref="ad0a55fbb3a5027cc39d73e7486daee1b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define initLed</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(PFC.PEIOR.BYTE.H |= 0x0a)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L404">404</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>

</div>
</div>
<a class="anchor" id="ae4cdcc16c132182683a92640f95f7b83"></a><!-- doxytag: member="shutils.h::initPushSW" ref="ae4cdcc16c132182683a92640f95f7b83" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define initPushSW</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(PFC.PEIOR.BYTE.H &amp;= 0x5f)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L435">435</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>

</div>
</div>
<a class="anchor" id="a2ff855c3699d60109c8f226966c7d976"></a><!-- doxytag: member="shutils.h::MAXDIGIT" ref="a2ff855c3699d60109c8f226966c7d976" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXDIGIT&#160;&#160;&#160;34</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L262">262</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>

</div>
</div>
<a class="anchor" id="a1424d92c9ede534cc1790736c9ba779c"></a><!-- doxytag: member="shutils.h::startCMT0" ref="a1424d92c9ede534cc1790736c9ba779c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define startCMT0</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(CMT.CMSTR.BIT.STR0=1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L530">530</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>

</div>
</div>
<a class="anchor" id="a1ad229a7a6f4551d42ecfe2f11dcd8ca"></a><!-- doxytag: member="shutils.h::startCMT1" ref="a1ad229a7a6f4551d42ecfe2f11dcd8ca" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define startCMT1</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(CMT.CMSTR.BIT.STR1=1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L533">533</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>

</div>
</div>
<a class="anchor" id="a2c459825da29dfd9b999a5c37773b765"></a><!-- doxytag: member="shutils.h::stopCMT0" ref="a2c459825da29dfd9b999a5c37773b765" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define stopCMT0</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(CMT.CMSTR.BIT.STR0=0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L531">531</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>

</div>
</div>
<a class="anchor" id="ae82221fab239e889fbb448fee6093c6e"></a><!-- doxytag: member="shutils.h::stopCMT1" ref="ae82221fab239e889fbb448fee6093c6e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define stopCMT1</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(CMT.CMSTR.BIT.STR1=0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L534">534</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>

</div>
</div>
<hr/><h2>Èñ¢Êï∞</h2>
<a class="anchor" id="a4745d640a1d7175f4f6c0ea63ab6a274"></a><!-- doxytag: member="shutils.h::check4BitSW" ref="a4745d640a1d7175f4f6c0ea63ab6a274" args="(short int number)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short int check4BitSW </td>
          <td>(</td>
          <td class="paramtype">short int&#160;</td>
          <td class="paramname"><em>number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L471">471</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordtype">short</span> <span class="keywordtype">int</span> ret;
        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> mask[]={4,8,0x10,0x20};
        <span class="keywordflow">if</span> (<a class="code" href="7040_s_8_h.html#a2a06f3773d46878dc58f8dadd6fd0d72">PB</a>.DR.BYTE.L&amp;mask[number&amp;3]) ret=1;
        <span class="keywordflow">else</span> ret=0;
        <span class="keywordflow">return</span> ret;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac7ea13da223a35394380a17f7b1d5b8b"></a><!-- doxytag: member="shutils.h::checkPushSW" ref="ac7ea13da223a35394380a17f7b1d5b8b" args="(short int number)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short int checkPushSW </td>
          <td>(</td>
          <td class="paramtype">short int&#160;</td>
          <td class="paramname"><em>number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L443">443</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordtype">short</span> <span class="keywordtype">int</span> ret;
        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> mask[]={0x20,0x80};
        <span class="keywordflow">if</span> (<a class="code" href="7040_s_8_h.html#a211238ffe3627f42ca7b04bc96cc8fa6">PE</a>.DR.BYTE.H&amp;mask[number&amp;1]) ret=1;
        <span class="keywordflow">else</span> ret=0;
        <span class="keywordflow">return</span> ret;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aff2b275eb9a2501f01497bbc4073b2d2"></a><!-- doxytag: member="shutils.h::chkgetCharSCI1" ref="aff2b275eb9a2501f01497bbc4073b2d2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short int chkgetCharSCI1 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L147">147</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordtype">short</span> <span class="keywordtype">int</span> flags,recdata;
        flags = <a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.SSR.BYTE;
        <span class="keywordflow">if</span> (flags&amp;0x38) {<span class="comment">/* error */</span>
                <a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.SSR.BIT.RDRF = 0;
                <a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.SSR.BIT.ORER = 0;
                <a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.SSR.BIT.FER = 0;
                <a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.SSR.BIT.PER = 0;
                <span class="keywordflow">return</span> -2;
        }
        <span class="keywordflow">if</span> (flags&amp;0x40) {<span class="comment">/* normally received one data */</span>
                recdata=<a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.RDR;
                <a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.SSR.BIT.RDRF = 0;
                <span class="keywordflow">return</span> recdata;
        } <span class="keywordflow">else</span> {
                <span class="keywordflow">return</span> -1;
        }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad92bac4e1fb4fbddea142bcc4c172e72"></a><!-- doxytag: member="shutils.h::get4BitSW" ref="ad92bac4e1fb4fbddea142bcc4c172e72" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short int get4BitSW </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L466">466</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordflow">return</span> ((<a class="code" href="7040_s_8_h.html#a2a06f3773d46878dc58f8dadd6fd0d72">PB</a>.DR.BYTE.L&gt;&gt;2)&amp;0xf);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a51ed903b71528858161fb6a188748b57"></a><!-- doxytag: member="shutils.h::getCharSCI1" ref="a51ed903b71528858161fb6a188748b57" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short int getCharSCI1 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L122">122</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordtype">short</span> <span class="keywordtype">int</span> flags,recdata;
        <span class="keywordflow">do</span> {
                flags = <a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.SSR.BYTE;
                <span class="keywordflow">if</span> (flags&amp;0x38) {<span class="comment">/* error */</span>
                        <a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.SSR.BIT.RDRF = 0;
                        <a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.SSR.BIT.ORER = 0;
                        <a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.SSR.BIT.FER = 0;
                        <a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.SSR.BIT.PER = 0;
                        <span class="keywordflow">return</span> -2;
                }
                <span class="keywordflow">if</span> (flags&amp;0x40) {<span class="comment">/* normally received one data */</span>
                        <a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.SSR.BIT.RDRF = 0;
                        recdata=<a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.RDR;
                        <span class="keywordflow">return</span> recdata;
                }
        } <span class="keywordflow">while</span> (1);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8f594dd3fcbb0cc62b78c6a8b88670b7"></a><!-- doxytag: member="shutils.h::getIntMask" ref="a8f594dd3fcbb0cc62b78c6a8b88670b7" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getIntMask </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ada442ef8371ce46338422defdd609447"></a><!-- doxytag: member="shutils.h::getIntSCI1" ref="ada442ef8371ce46338422defdd609447" args="(char prompt[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getIntSCI1 </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>prompt</em>[]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L196">196</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordtype">int</span> x=0,<a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>,m=0,n=0,<a class="code" href="namespacestf.html#afa89a4a0c80d3727c2f396aa3ead41cd">v</a>=0,i=0;
        <span class="keywordtype">char</span> buff[16];
        <a class="code" href="shutils_8h.html#a33987f1ff9f3b1445fdfea9f23f17ec2">putStringSCI1</a>(prompt);
        <a class="code" href="shutils_8h.html#a89e775a2ed7c17e5ca8dc9b1971e1e21">getStringSCI1</a>(buff,16);
        <a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>=buff[i];
        <span class="keywordflow">while</span>(<a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>!=0){
                <span class="keywordflow">if</span>(<a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>==<span class="charliteral">&#39;-&#39;</span>) m=1;
                <span class="keywordflow">if</span>(<span class="charliteral">&#39;a&#39;</span>&lt;=<a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>&amp;&amp;<a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>&lt;=<span class="charliteral">&#39;z&#39;</span>) <a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>=<a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>-<span class="charliteral">&#39;a&#39;</span>+<span class="charliteral">&#39;A&#39;</span>;
                <span class="keywordflow">if</span>(<a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>==<span class="charliteral">&#39;0&#39;</span>) n=1;

                <span class="keywordflow">if</span>(<a class="code" href="namespacestf.html#afa89a4a0c80d3727c2f396aa3ead41cd">v</a>==1){
                        <span class="keywordflow">if</span>(<span class="charliteral">&#39;0&#39;</span>&lt;=<a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>&amp;&amp;<a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>&lt;=<span class="charliteral">&#39;9&#39;</span>){
                                <a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>=<a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>-<span class="charliteral">&#39;0&#39;</span>;
                        }
                        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<span class="charliteral">&#39;A&#39;</span>&lt;=<a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>&amp;&amp;<a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>&lt;=<span class="charliteral">&#39;F&#39;</span>){
                                <a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>=<a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>-<span class="charliteral">&#39;A&#39;</span>+10;
                        }
                        x=16*x+<a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>;
                }

                <span class="keywordflow">if</span>(n==1&amp;&amp;<a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>==<span class="charliteral">&#39;X&#39;</span>){
                        <a class="code" href="namespacestf.html#afa89a4a0c80d3727c2f396aa3ead41cd">v</a>=1;
                }
                                
                <span class="keywordflow">if</span>(<a class="code" href="namespacestf.html#afa89a4a0c80d3727c2f396aa3ead41cd">v</a>==0&amp;&amp;<span class="charliteral">&#39;0&#39;</span>&lt;=<a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>&amp;&amp;<a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>&lt;=<span class="charliteral">&#39;9&#39;</span>){
                        <a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>=<a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>-<span class="charliteral">&#39;0&#39;</span>;
                        x=10*x+<a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>;
                }

                <a class="code" href="namespaceigrf.html#aef378991c40e0acdd01f61c2ef7d3976">y</a>=buff[++i];
        }
        <span class="keywordflow">if</span>(m==1) x=-x;
        <span class="keywordflow">return</span> x;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9edbc60a6ac728c8c1aeea595a51cbaa"></a><!-- doxytag: member="shutils.h::getPushSW" ref="a9edbc60a6ac728c8c1aeea595a51cbaa" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short int getPushSW </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L438">438</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordflow">return</span> ((<a class="code" href="7040_s_8_h.html#a211238ffe3627f42ca7b04bc96cc8fa6">PE</a>.DR.BYTE.H&gt;&gt;5)&amp;0x5);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a89e775a2ed7c17e5ca8dc9b1971e1e21"></a><!-- doxytag: member="shutils.h::getStringSCI1" ref="a89e775a2ed7c17e5ca8dc9b1971e1e21" args="(char *buff, int max)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getStringSCI1 </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L174">174</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordtype">int</span> i,ch;
        <span class="keywordflow">for</span> (i=0;i&lt;max-1;i++) {
                ch=<a class="code" href="shutils_8h.html#a51ed903b71528858161fb6a188748b57">getCharSCI1</a>(); <span class="comment">/*1ï∂éöéÊìæ*/</span>
                *buff=(char)ch; <span class="comment">/*1ï∂éöéÊìæ*/</span>
                <span class="keywordflow">if</span> (*buff==<span class="charliteral">&#39;\r&#39;</span>||ch&lt;0) {
                        *buff=0;
                        <span class="keywordflow">return</span> i+1;
                }
                <span class="keywordflow">if</span> (*buff==0x8) {
                        buff-=2;
                        i-=2;
                }
                <span class="keywordflow">if</span> (*buff!=<span class="charliteral">&#39;\n&#39;</span>) buff++;
                <span class="keywordflow">else</span> i--;
        }
        *buff=0;
        <span class="keywordflow">return</span> i+1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a26060c6615b48cd952f85e4edbc19ca3"></a><!-- doxytag: member="shutils.h::initCMTInt" ref="a26060c6615b48cd952f85e4edbc19ca3" args="(unsigned long int period, int ch, int intLebel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initCMTInt </td>
          <td>(</td>
          <td class="paramtype">unsigned long int&#160;</td>
          <td class="paramname"><em>period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>intLebel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L490">490</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
<div class="fragment"><pre class="fragment">{
        <span class="comment">/* É”ÅF28.636MHz */</span>
<span class="comment">//      double dblcmcor;</span>
        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> cmcor;
        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> cks;
        <span class="keywordflow">if</span> (period&lt;16000) {
<span class="comment">//              dblcmcor=(double)period*(28.636/8.);</span>
                cmcor=period*28636/8000;
                cks=0; <span class="comment">/* É”/8 */</span>
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (period&lt;64000) {
<span class="comment">//              dblcmcor=(double)period*(28.636/32.);</span>
                cmcor=period*7159/8000;
                cks=1; <span class="comment">/* É”/32 */</span>
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (period&lt;256000) {
<span class="comment">//              dblcmcor=(double)period*(28.636/128.);</span>
                cmcor=period/4*7159/8000;
                cks=2; <span class="comment">/* É”/128 */</span>
        } <span class="keywordflow">else</span> {
<span class="comment">//              dblcmcor=(double)period*(28.636/512.);</span>
                cmcor=period/16*7159/8000;
                cks=3; <span class="comment">/* É”/512 */</span>
        }
        <span class="keywordflow">if</span> (ch==0) {
<span class="comment">//              CMT0.CMCOR=(unsigned short int)(dblcmcor+0.5);</span>
                <a class="code" href="7040_s_8_h.html#a20a0cd761e563c3a1a75267b661ac5b8">CMT</a>.CMSTR.BIT.STR0=0; <span class="comment">/* ÉRÉìÉyÉAÉ}ÉbÉ`É^ÉCÉ}0ÉXÉgÉbÉv */</span>
                <a class="code" href="7040_s_8_h.html#a5e17ca588fb7d4708d276ec5dfa5abc7">CMT0</a>.CMCOR=cmcor-1;
                <a class="code" href="7040_s_8_h.html#a5e17ca588fb7d4708d276ec5dfa5abc7">CMT0</a>.CMCSR.BIT.CKS=cks; <span class="comment">/* É”ÇÃê›íË */</span>
                <a class="code" href="7040_s_8_h.html#a5e17ca588fb7d4708d276ec5dfa5abc7">CMT0</a>.CMCSR.BIT.CMIE=1; <span class="comment">/* äÑÇËçûÇ›â¬ê›íË */</span>
                <a class="code" href="7040_s_8_h.html#acbad0bcec47edfd40d1ca213be24408d">INTC</a>.IPRG.BIT._CMT0=intLebel; <span class="comment">/* äÑÇËçûÇ›ÉRÉìÉgÉçÅ[ÉâÇÃäÑÇËçûÇ›ÉåÉxÉã */</span>
        } <span class="keywordflow">else</span> {
<span class="comment">//              CMT1.CMCOR=(unsigned short int)(dblcmcor+0.5);</span>
                <a class="code" href="7040_s_8_h.html#a20a0cd761e563c3a1a75267b661ac5b8">CMT</a>.CMSTR.BIT.STR1=0; <span class="comment">/* ÉRÉìÉyÉAÉ}ÉbÉ`É^ÉCÉ}1ÉXÉgÉbÉv*/</span>
                <a class="code" href="7040_s_8_h.html#a6bade34695adc44f060e4ac8227def89">CMT1</a>.CMCOR=cmcor-1;
                <a class="code" href="7040_s_8_h.html#a6bade34695adc44f060e4ac8227def89">CMT1</a>.CMCSR.BIT.CKS=cks; <span class="comment">/* É”ÇÃê›íË */</span>
                <a class="code" href="7040_s_8_h.html#a6bade34695adc44f060e4ac8227def89">CMT1</a>.CMCSR.BIT.CMIE=1; <span class="comment">/* äÑÇËçûÇ›â¬ê›íË */</span>
                <a class="code" href="7040_s_8_h.html#acbad0bcec47edfd40d1ca213be24408d">INTC</a>.IPRG.BIT._CMT1=intLebel; <span class="comment">/* äÑÇËçûÇ›ÉRÉìÉgÉçÅ[ÉâÇÃäÑÇËçûÇ›ÉåÉxÉã */</span>
        }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a833e1173b40d64896a139b28234b835f"></a><!-- doxytag: member="shutils.h::initSCI1" ref="a833e1173b40d64896a139b28234b835f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initSCI1 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L104">104</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordtype">int</span> i;
        <a class="code" href="7040_s_8_h.html#ae7db9ddaba61f9212fc39881bb187f9d">PFC</a>.PACRL2.BIT.PA4MD = 1;<span class="comment">/* 0:PA4, 1:TXD1 */</span>
        <a class="code" href="7040_s_8_h.html#ae7db9ddaba61f9212fc39881bb187f9d">PFC</a>.PACRL2.BIT.PA3MD = 1;<span class="comment">/* 0:PA3, 1:RXD1 */</span>
        <a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.SCR.BYTE = 0;       <span class="comment">/* clear all flags */</span>
        <a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.SCR.BYTE = 0;       <span class="comment">/* clear all flags */</span>
                          <span class="comment">/* 2400-38400baud are available at n=0(cks1=0,cks2=0) */</span>
        <a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.SMR.BYTE = 0;       <span class="comment">/* Ascnc, 8bit , NoParity, stop1, 1/1 */</span>
        <a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.BRR = 22;           <span class="comment">/* 38400baud (CPU=28.6MHz) */</span>
        <span class="keywordflow">for</span>(i=0;i&lt;1000000;i++);      <span class="comment">/* wait more than 1bit time */</span>
        <a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.SCR.BYTE = 0x30;    <span class="comment">/* scr = 0011 0000 (TE=1,RE=1) */</span>
        <span class="keywordflow">return</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9ab50fd6cbfffcdbb4309991e99ab468"></a><!-- doxytag: member="shutils.h::putCharSCI1" ref="a9ab50fd6cbfffcdbb4309991e99ab468" args="(char c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void putCharSCI1 </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L241">241</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> tmp;
        <span class="keywordflow">if</span> (c==<span class="charliteral">&#39;\n&#39;</span>) <a class="code" href="shutils_8h.html#a9ab50fd6cbfffcdbb4309991e99ab468">putCharSCI1</a>(<span class="charliteral">&#39;\r&#39;</span>);
        <span class="keywordflow">do</span>{
                tmp = <a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.SSR.BYTE;
        } <span class="keywordflow">while</span>((tmp &amp; 0x80)==0);
        <a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.TDR = c;
        <a class="code" href="7040_s_8_h.html#aa97eca5571fe1a418a94018204d2f346">SCI1</a>.SSR.BIT.TDRE = 0;
        <span class="keywordflow">return</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a33987f1ff9f3b1445fdfea9f23f17ec2"></a><!-- doxytag: member="shutils.h::putStringSCI1" ref="a33987f1ff9f3b1445fdfea9f23f17ec2" args="(char *str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void putStringSCI1 </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L253">253</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordflow">while</span>(*str){
                <a class="code" href="shutils_8h.html#a9ab50fd6cbfffcdbb4309991e99ab468">putCharSCI1</a>(*str);
                str++;
        }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aba197b100ee6ab0446b9db164a2874e7"></a><!-- doxytag: member="shutils.h::SCI1_printf" ref="aba197b100ee6ab0446b9db164a2874e7" args="(char *format,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SCI1_printf </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L263">263</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
<div class="fragment"><pre class="fragment">{
        va_list arg_ptr;
        <span class="keywordtype">char</span> buf[<a class="code" href="shutils_8h.html#a2ff855c3699d60109c8f226966c7d976">MAXDIGIT</a>];
        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> flag=0;  <span class="comment">/*%d:bit2 l:bit1 %:bit0 */</span>
        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> digit=0; <span class="comment">/* åÖêî */</span>
        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> minus=0;
        <span class="keywordtype">char</span> fill,format1;
        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> radix; <span class="comment">/*NêiäÓêî*/</span>
        <span class="keywordtype">char</span> sign;
        <span class="keywordtype">char</span> *ptr; <span class="comment">/*èoóÕï∂éöÉ|ÉCÉìÉ^*/</span>
        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> cntr; <span class="comment">/*èoóÕï∂éöêîÉJÉEÉìÉ^*/</span>
        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> shift; <span class="comment">/*16êiÉVÉtÉg 0 or 6*/</span>
        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> i;
        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> value;
        va_start(arg_ptr,format);
        <span class="keywordflow">while</span> (*format) {
                format1=*format;
                <span class="keywordflow">if</span> (flag==0) {
                        <span class="keywordflow">if</span> (format1==<span class="charliteral">&#39;%&#39;</span>) {
                                flag=1;
                                digit=0;
                                fill=<span class="charliteral">&#39; &#39;</span>;
                                minus=0;
                                radix=0;
                                ptr=&amp;buf[<a class="code" href="shutils_8h.html#a2ff855c3699d60109c8f226966c7d976">MAXDIGIT</a>-1];
                                *ptr--=<span class="charliteral">&#39;\0&#39;</span>;
                                cntr=0;
                                shift=0;
                                sign=<span class="charliteral">&#39;+&#39;</span>;
                        } <span class="keywordflow">else</span> {
                                <a class="code" href="shutils_8h.html#a9ab50fd6cbfffcdbb4309991e99ab468">putCharSCI1</a>(format1);
                        }
                } <span class="keywordflow">else</span> {
                        <span class="keywordflow">if</span> (format1==<span class="charliteral">&#39;l&#39;</span>) {
                                flag|=2;
                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="charliteral">&#39;0&#39;</span>&lt;=(format1)&amp;&amp;(format1)&lt;=<span class="charliteral">&#39;9&#39;</span>) {
                                <span class="keywordflow">if</span> (digit==0 &amp;&amp; format1==<span class="charliteral">&#39;0&#39;</span>) {
                                        fill=<span class="charliteral">&#39;0&#39;</span>;
                                } <span class="keywordflow">else</span> {
                                        digit=digit*10+((format1)-<span class="charliteral">&#39;0&#39;</span>);
                                        <span class="keywordflow">if</span> (<a class="code" href="shutils_8h.html#a2ff855c3699d60109c8f226966c7d976">MAXDIGIT</a>-2&lt;digit) digit=<a class="code" href="shutils_8h.html#a2ff855c3699d60109c8f226966c7d976">MAXDIGIT</a>-2;
                                }
                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (format1==<span class="charliteral">&#39;-&#39;</span>) {
                                minus=1;
                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (format1==<span class="charliteral">&#39;d&#39;</span>) {
                                flag|=4;
                                radix=10;
                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (format1==<span class="charliteral">&#39;u&#39;</span>) {
                                radix=10;
                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (format1==<span class="charliteral">&#39;x&#39;</span>) {
                                radix=16;
                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (format1==<span class="charliteral">&#39;X&#39;</span>) {
                                radix=16;shift=16;
                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (format1==<span class="charliteral">&#39;o&#39;</span>) {
                                radix=8;
                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (format1==<span class="charliteral">&#39;b&#39;</span>) {
                                radix=2;
                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (format1==<span class="charliteral">&#39;p&#39;</span>) {
                                radix=16;shift=16;digit=8;fill=<span class="charliteral">&#39;0&#39;</span>;flag|=2;
                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (format1==<span class="charliteral">&#39;c&#39;</span>) {
                                <a class="code" href="shutils_8h.html#a9ab50fd6cbfffcdbb4309991e99ab468">putCharSCI1</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(va_arg(arg_ptr,<span class="keywordtype">int</span>)));
                                flag=0;
                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (format1==<span class="charliteral">&#39;s&#39;</span>) {
                                <span class="keywordflow">if</span> (digit) {
                                        cntr=0;ptr=va_arg(arg_ptr,<span class="keywordtype">char</span> *);
                                        <span class="keywordflow">while</span> (ptr[cntr]) cntr++; <span class="comment">/*cntrÇÕï∂éöêî*/</span>
                                        <span class="keywordflow">if</span> (!minus) <span class="keywordflow">for</span> (i=cntr;i&lt;digit;i++) <a class="code" href="shutils_8h.html#a9ab50fd6cbfffcdbb4309991e99ab468">putCharSCI1</a>(<span class="charliteral">&#39; &#39;</span>);
                                        <a class="code" href="shutils_8h.html#a33987f1ff9f3b1445fdfea9f23f17ec2">putStringSCI1</a>(ptr);
                                        <span class="keywordflow">if</span> (minus) <span class="keywordflow">for</span> (i=cntr;i&lt;digit;i++) <a class="code" href="shutils_8h.html#a9ab50fd6cbfffcdbb4309991e99ab468">putCharSCI1</a>(<span class="charliteral">&#39; &#39;</span>);
                                } <span class="keywordflow">else</span> {
                                        <a class="code" href="shutils_8h.html#a33987f1ff9f3b1445fdfea9f23f17ec2">putStringSCI1</a>(va_arg(arg_ptr,<span class="keywordtype">char</span> *));
                                }
                                flag=0;
                        } <span class="keywordflow">else</span> {
                                <a class="code" href="shutils_8h.html#a9ab50fd6cbfffcdbb4309991e99ab468">putCharSCI1</a>(format1);
                                flag=0;
                        }
                        <span class="keywordflow">if</span> (radix) {
                                <span class="keywordflow">switch</span> (flag&amp;6) {
                                <span class="keywordflow">case</span> 0: <span class="comment">/* unsig int */</span>
                                        value=(<span class="keywordtype">unsigned</span> int)va_arg(arg_ptr,<span class="keywordtype">int</span>);
                                        <span class="keywordflow">break</span>;
                                <span class="keywordflow">case</span> 2: <span class="comment">/* unsig long int */</span>
                                        value=va_arg(arg_ptr,<span class="keywordtype">long</span> <span class="keywordtype">int</span>);
                                        <span class="keywordflow">break</span>;
                                <span class="keywordflow">case</span> 4: <span class="comment">/* sig int */</span>
                                        value=(<span class="keywordtype">long</span> int)va_arg(arg_ptr,<span class="keywordtype">int</span>);
                                        <span class="keywordflow">if</span> ((<span class="keywordtype">long</span> <span class="keywordtype">int</span>)value&lt;0) {
                                                value=-(<span class="keywordtype">long</span> int)value;
                                                sign=<span class="charliteral">&#39;-&#39;</span>;
                                        }
                                        <span class="keywordflow">break</span>;
                                <span class="keywordflow">case</span> 6: <span class="comment">/* sig long int */</span>
                                        value=va_arg(arg_ptr,<span class="keywordtype">long</span> <span class="keywordtype">int</span>);
                                        <span class="keywordflow">if</span> ((<span class="keywordtype">long</span> <span class="keywordtype">int</span>)value&lt;0) {
                                                value=-(<span class="keywordtype">long</span> int)value;
                                                sign=<span class="charliteral">&#39;-&#39;</span>;
                                        }
                                        <span class="keywordflow">break</span>;
                                <span class="keywordflow">default</span>:
                                        <span class="keywordflow">break</span>;
                                }
                                <span class="keywordflow">while</span> (value) {
                                        *ptr--=<a class="code" href="shutils_8h.html#aa2af157bce3908a9bd973eb13872063d">hexstring</a>[value%radix+shift];
                                        cntr++;
                                        value/=radix;
                                }
                                <span class="keywordflow">if</span> (cntr==0) {
                                        *ptr--=<span class="charliteral">&#39;0&#39;</span>;
                                        cntr++;
                                }
                                <span class="keywordflow">if</span> (fill==<span class="charliteral">&#39; &#39;</span>) {
                                        <span class="keywordflow">if</span> (sign==<span class="charliteral">&#39;-&#39;</span>) {
                                                *ptr--=<span class="charliteral">&#39;-&#39;</span>;
                                                cntr++;
                                        }
                                        <span class="keywordflow">if</span> (!minus) <span class="keywordflow">for</span> (i=cntr;i&lt;digit;i++) <a class="code" href="shutils_8h.html#a9ab50fd6cbfffcdbb4309991e99ab468">putCharSCI1</a>(<span class="charliteral">&#39; &#39;</span>);
                                        <a class="code" href="shutils_8h.html#a33987f1ff9f3b1445fdfea9f23f17ec2">putStringSCI1</a>(++ptr);
                                        <span class="keywordflow">if</span> (minus) <span class="keywordflow">for</span> (i=cntr;i&lt;digit;i++) <a class="code" href="shutils_8h.html#a9ab50fd6cbfffcdbb4309991e99ab468">putCharSCI1</a>(<span class="charliteral">&#39; &#39;</span>);
                                } <span class="keywordflow">else</span> {
                                        <span class="keywordflow">for</span> (;cntr&lt;digit-1;cntr++) *ptr--=<span class="charliteral">&#39;0&#39;</span>;
                                        <span class="keywordflow">if</span> (sign!=<span class="charliteral">&#39;-&#39;</span>&amp;&amp;cntr&lt;digit) *ptr--=<span class="charliteral">&#39;0&#39;</span>;
                                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sign==<span class="charliteral">&#39;-&#39;</span>) *ptr--=<span class="charliteral">&#39;-&#39;</span>;
                                        <a class="code" href="shutils_8h.html#a33987f1ff9f3b1445fdfea9f23f17ec2">putStringSCI1</a>(++ptr);
                                }
                                flag=0;
                        }
                }
                format++;
        }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9692c4716cfd883176bfbb468c7b931d"></a><!-- doxytag: member="shutils.h::setIntMask" ref="a9692c4716cfd883176bfbb468c7b931d" args="(int mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setIntMask </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mask</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af46f760b9216d484463dbc05839dd688"></a><!-- doxytag: member="shutils.h::turnOffLed" ref="af46f760b9216d484463dbc05839dd688" args="(short int number)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void turnOffLed </td>
          <td>(</td>
          <td class="paramtype">short int&#160;</td>
          <td class="paramname"><em>number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L420">420</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
<div class="fragment"><pre class="fragment">{
        <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> mask[]={0xfd,0xf7};
        <a class="code" href="7040_s_8_h.html#a211238ffe3627f42ca7b04bc96cc8fa6">PE</a>.DR.BYTE.H &amp;= mask[number];
}
</pre></div>
</div>
</div>
<a class="anchor" id="a81fd9d782c78f8e1ca926bb5c6a0b363"></a><!-- doxytag: member="shutils.h::turnOnLed" ref="a81fd9d782c78f8e1ca926bb5c6a0b363" args="(short int number)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void turnOnLed </td>
          <td>(</td>
          <td class="paramtype">short int&#160;</td>
          <td class="paramname"><em>number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L410">410</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
<div class="fragment"><pre class="fragment">{       
        <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> mask[]={0x2,0x8};
        <a class="code" href="7040_s_8_h.html#a211238ffe3627f42ca7b04bc96cc8fa6">PE</a>.DR.BYTE.H |= mask[number];
}
</pre></div>
</div>
</div>
<hr/><h2>Â§âÊï∞</h2>
<a class="anchor" id="aa2af157bce3908a9bd973eb13872063d"></a><!-- doxytag: member="shutils.h::hexstring" ref="aa2af157bce3908a9bd973eb13872063d" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="shutils_8h.html#aa2af157bce3908a9bd973eb13872063d">hexstring</a>[] = &quot;0123456789abcdef0123456789ABCDEF&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="">shutils.h</a> „ÅÆ <a class="el" href="#L261">261</a> Ë°å„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>ÂÖ®„Å¶</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>„ÇØ„É©„Çπ</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>„Éç„Éº„É†„Çπ„Éö„Éº„Çπ</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>„Éï„Ç°„Ç§„É´</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Èñ¢Êï∞</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Â§âÊï∞</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>ÂûãÂÆöÁæ©</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>ÂàóÊåôÂûã</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>ÂàóÊåôÂûã„ÅÆÂÄ§</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>„Éï„É¨„É≥„Éâ</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>„Éû„ÇØ„É≠ÂÆöÁæ©</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>STF„Å´ÂØæ„Åó„Å¶Wed Mar 23 2011 05:32:32„Å´ÁîüÊàê„Åï„Çå„Åæ„Åó„Åü„ÄÇ&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
